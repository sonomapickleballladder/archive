function getrankings(){clearTimeout(getrankings),setTimeout(getrankings,6e4),ptc("rankings","*").then((function(e){try{for(let f=0;f<e.length;f++)bnsuawe.push(e[f].mwbn),wnieai.push(parseInt(e[f].id));awMisen=e.filter((e=>e.id===Math.min(...wnieai))),wbicewom=e.filter((e=>e.id===Math.max(...wnieai))),awMisen=awMisen[0],awMisen.order=awMisen.order.split(",").map((e=>e.split(":")[0])).toString(),wbicewom=wbicewom[0];let f=wbicewom.order.split(",");renderorder(wbicewom,f)}catch(e){byId("order").innerHTML="<br><span style='opacity: 0'>Initial Order Creation will be initialized 3 days before the first round starts.</span><br>",unfade(byId("order").querySelector("span"),15)}}))}function renderorder(e,f){byId("order").innerHTML="";try{byId("goup").removeAttribute("id"),byId("godown").removeAttribute("id")}catch(e){}let t=awMisen.order.split(","),r=lsdciph(localStorage.getItem(ladderId.ls+"ArprO_lA3RZxD5z")).name.toLowerCase().replace(/(\s)/g,"");for(let e=0;e<f.length;e++){let n=t.indexOf(f[e]);f[e]=f[e].split(":")[0];let o="";r==f[e].toLowerCase().replace(/(\s)/g,"")&&checkid()[1]&&(o=`&nbsp;<button class="cool_button" id="goup" onclick="moveUp(this.parentNode,${e+1},${n+1})">Up &uarr;</button>&nbsp;<button class="cool_button" id="godown" onclick="moveDown(this.parentNode,${e+1},${n+1})">Down &darr;</button>`),byId("order").innerHTML+=`<li><span>${f[e]}</span>${o}</li>`}colorcodeorder()}function moveUp(e,f,t){if(e.previousElementSibling){let f=Array.from(e.parentNode.children).indexOf(e)-t;Math.abs(f);if(-maxmove>f)return!1;e.parentNode.insertBefore(e,e.previousElementSibling),colorcodeorder()}}function moveDown(e,f,t){if(e.nextElementSibling){let f=Array.from(e.parentNode.children).indexOf(e)-t+2;Math.abs(f);if(f>maxmove)return!1;e.parentNode.insertBefore(e.nextElementSibling,e),colorcodeorder()}}document.addEventListener("DOMContentLoaded",(function(){lsWarning(),checkid(),getrankings()})),window.addEventListener("keydown",(function(e){if(e.metaKey&&(40==e.which||39==e.which))try{e.preventDefault(),byId("godown").click()}catch(e){}if(e.metaKey&&(37==e.which||38==e.which))try{e.preventDefault(),byId("goup").click()}catch(e){}}));let clrsup=["auto","#ffc285","#ffbb7e","#ffb478","#ffad71","#ffa56a","#ff9e64","#ff975d","#ff9056","#ff8950","#ff8249","#ff7a42","#ff733c","#ff6c35","#ff652f","#ff5e28","#ff5721","#ff501b","#ff4814","#ff410d","#ff3a07","#ff3300","#ff3300","#ff3300","#ff3300","#ff3300","#ff3300","#ff3300","#ff3300","#ff3300","#ff3300","#ff3300","#ff3300","#ff3300","#ff3300","#ff3300","#ff3300","#ff3300","#ff3300","#ff3300","#ff3300","#ff3300","#ff3300","#ff3300","#ff3300","#ff3300","#ff3300","#ff3300","#ff3300","#ff3300","#ff3300","#ff3300","#ff3300","#ff3300","#ff3300","#ff3300","#ff3300","#ff3300","#ff3300","#ff3300","#ff3300","#ff3300"],clrsdown=["auto","#ccccff","#c9c4ff","#c7bdff","#c4b5ff","#c2adff","#bfa6ff","#bd9eff","#ba96ff","#b88fff","#b587ff","#b280ff","#b078ff","#ad70ff","#ab69ff","#a861ff","#a659ff","#a352ff","#a14aff","#9e42ff","#9c3bff","#9933ff","#9933ff","#9933ff","#9933ff","#9933ff","#9933ff","#9933ff","#9933ff","#9933ff","#9933ff","#9933ff","#9933ff","#9933ff","#9933ff","#9933ff","#9933ff","#9933ff","#9933ff","#9933ff","#9933ff","#9933ff","#9933ff","#9933ff","#9933ff","#9933ff","#9933ff","#9933ff","#9933ff","#9933ff","#9933ff","#9933ff","#9933ff","#9933ff","#9933ff","#9933ff","#9933ff","#9933ff","#9933ff","#9933ff","#9933ff","#9933ff","#9933ff"];const maxmove=20;let wbicewom,awMisen,bnsuawe=[],wnieai=[];async function ptc(e,f,t,r,n,o,a){const{data:i,error:l}=await sb.client.from(init.f_e+ladderId.sb+e).select(f);l&&debug;try{executeFunctionByName(a,window,i)}catch(e){return i}}function checkid(){document.activeElement.blur();try{if(lsdciph(localStorage.getItem(ladderId.ls+"ArprO_lA3RZxD5z"))){let e=lsdciph(localStorage.getItem(ladderId.ls+"ArprO_lA3RZxD5z")),f=e.name.replace(/(\s)/g,"").toLowerCase(),t=e.key,r=sha256(f+t);return hide(0),[{error:502},!0,{kwm:r}]}location.replace(`login${protoMap[location.protocol]}?return_to=${location.pathname}`)}catch(e){alert("Something went wrong..."),location.replace(`login${protoMap[location.protocol]}?return_to=${location.pathname}`)}}function savethisorder(){let e=lsdciph(localStorage.getItem(ladderId.ls+"ArprO_lA3RZxD5z")),f=byId("order").children,t=[];for(let e=0;e<f.length;e++){let r=f[e].getElementsByTagName("span")[0].innerHTML;t.push(r)}let r=t.toString();if(r==wbicewom.order)return calert(0,"Error","Order has not changed",0),!1;let n={order:r,Fz_id:checkid()[2].kwm,mwbn:LZString.compressToUTF16(e.name)};saveData("rankings",n).then((function(e){location.reload()}))}function colorcodeorder(){let e=lsdciph(localStorage.getItem(ladderId.ls+"ArprO_lA3RZxD5z")),f=byId("order").children,t=awMisen.order.split(",").map((e=>e.split(":")[0]));for(let r=0;r<f.length;r++){let n=f[r],o=n.getElementsByTagName("span")[0].innerHTML,a=LZString.compressToUTF16(o.toLowerCase().replace(/(\s)/g,"")),i=t.indexOf(o),l=Array.from(n.parentNode.children).indexOf(n)-i,c=n.getElementsByTagName("span")[0];if(bnsuawe.indexOf(a)>-1||e.name.toLowerCase().replace(/(\s)/g,"")==o.toLowerCase().replace(/(\s)/g,"")&&checkid()[1]){let e=Math.abs(l);l>0&&(e=Math.abs(l+2));document.createElement("input");l<0&&(c.style.backgroundColor=clrsup[e]),l>0&&(c.style.backgroundColor=clrsdown[e]),0==l&&(c.style.backgroundColor="")}let d="small";clearel(n,d);let s=document.createElement(d),p=JSON.stringify(-l);0==parseInt(l)&&(p=""),p.indexOf("-")>-1?p=p.replace(/-/g,"")+"⇓":p.length>0&&(p+="⇑"),s.innerHTML=` ${p} `,c.parentNode.insertBefore(s,c.nextSibling)}}function clearel(e,f){for(var t=e.getElementsByTagName(f),r=t.length-1;r>=0;r--){var n=t[r];n.parentNode.removeChild(n)}}