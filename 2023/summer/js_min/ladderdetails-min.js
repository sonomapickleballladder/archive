const signupsObject={};function getsignups(){ptc("viewable_Signups","*","awx","1").then((e=>{if(e.error)return!1;e=e.data;let t=Object.keys(laddersOffered);for(let n=0;n<t.length;n++){signupsObject[t[n]]=e.filter((e=>e.ladder==t[n]));let s="",l="",i=" so far",o="";try{0!=laddersOffered[t[n]].min&&(l="*",i="",o="line-through",s="")}catch(e){}let r="";signupsObject[t[n]].length>0&&(r=`&nbsp;&nbsp;<button class="cool_button hlfpd" onclick="showSignups('${t[n]}')"> View signups &nearr; </button>`);try{byId(`ns-${t[n]}`).innerHTML=`${0==signupsObject[t[n]].length?"None":signupsObject[t[n]].length}${i}${s}${r}`}catch(e){}try{byId(`ns-${t[n]}`).closest("details").querySelector("summary").innerHTML=byId(`ns-${t[n]}`).closest("details").querySelector("summary").innerHTML.split("<")[0].split("*")[0].trim()+`${0==signupsObject[t[n]].length?l:l+' <span style="font-size:85%;text-shadow: 0px 1px 2px mediumseagreen;">['+signupsObject[t[n]].length+"]</span>"}`}catch(e){}try{byId(`ns-${t[n]}`).closest("details").querySelector("summary").style.textDecoration=o}catch(e){}t.length}}))}function showSignups(e){document.activeElement.style.cursor="progress";let t,n=signupsObject[e],s="",l={true:"s",false:""};n.length>0?(s=n.map((t=>`<small><i>${"Team"==e?t.team_name:t.name}</i></small><br>`)),s=s.filter(((e,t,n)=>n.indexOf(e)==t)),t=`${s.length} ${"Team"==e?"team":"signup"}${l[s.length>1]} so far:`,s=`<div style=''>${s.join("\n")}</div>`):(t="No signups yet...",s=""),window.open("about:blank",rdString(10)).document.write(`<html>\n        <head><title>Signups => ${e} Ladder</title><style>html,body{font-size:1.25rem}</style></head>\n        <body style='background:${getComputedStyle(document.body).background};color:${getComputedStyle(document.body).color}; font-size:larger'><h2 style='font-family:sans-serif;text-decoration:underline'>${e} Ladder</h2><p>${t}</p>${s}</body>\n        </html>`),document.activeElement.style.cursor=""}window.addEventListener("DOMContentLoaded",(function(){if(getsignups(),setInterval(getsignups,36e5),location.href.indexOf("ladder=")>-1)try{let e=location.href.split("ladder=")[1].split("&")[0].split("?")[0].split("#")[0],t=byId(`ns-${e}`).closest("details");t.id=`${e}_Ladder`,location.href="#",location.href=`#${t.id}`,t.open=!0}catch(e){}}));